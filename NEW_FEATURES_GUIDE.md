# 新功能使用指南

## 🎯 界面优化功能说明

本次更新（v5.10）为FunASR工具添加了三大界面优化功能，大幅提升用户体验。

---

## 📋 功能1：增强文件列表

### 新增特性

#### 1. 文件元信息显示
添加文件后，列表会自动显示：
- **文件大小**: 以MB/GB为单位
- **视频时长**: 格式为 分:秒
- **文件格式**: MP4、AVI、MKV等

#### 2. 彩色状态指示
处理过程中，每个文件会显示不同颜色的状态：
- 🔵 **等待中** (灰色) - 文件在队列中等待
- 🔵 **提取音频** (蓝色) - 正在从视频中提取音频
- 🟠 **识别中** (橙色) - 正在进行语音识别
- 🟣 **后处理** (紫色) - 正在生成字幕文件
- 🟢 **已完成** (绿色) - 处理成功完成
- 🔴 **失败** (红色) - 处理出错
- ⚪ **已跳过** (灰蓝色) - 断点续传时跳过

#### 3. 单个文件操作
- **删除按钮**: 每个文件右侧有 ✕ 按钮，可单独删除
- **右键菜单**:
  - 删除文件
  - 打开文件位置
  - 查看错误信息（失败时）

#### 4. 进度显示
处理中的文件会显示进度条和百分比

### 使用方法
1. 添加文件后，稍等片刻即可看到文件信息
2. 处理过程中观察状态变化
3. 右键点击文件查看更多操作

---

## 📂 功能2：输出管理

### 新增特性

#### 1. 快速输出面板
主窗口底部新增输出管理面板：
- 显示输出文件夹路径
- **打开文件夹** 按钮 - 一键打开输出目录
- **查看所有结果** 按钮 - 打开详细输出管理对话框

#### 2. 输出管理对话框
点击"查看所有结果"后，显示树形结构：
- 按源文件分组
- 显示所有生成的字幕文件
- 显示文件大小
- 双击文件直接打开

### 使用方法
1. 处理完成后，点击"打开文件夹"快速访问输出目录
2. 点击"查看所有结果"查看详细的文件列表
3. 在对话框中双击文件直接打开

---

## ⚙️ 功能3：配置持久化

### 新增特性

#### 1. 配置预设
在"处理设置"区域顶部新增"配置预设"下拉框：

**快速模式**
- 仅生成SRT字幕
- 不启用FFSubSync
- 适合快速处理

**标准模式**（推荐）
- 生成SRT + TXT
- 启用FFSubSync精校
- 平衡速度和质量

**完整模式**
- 生成所有格式（SRT、TXT、JSON、MD、DOCX、PDF）
- 启用所有功能
- 最全面的输出

**自定义模式**
- 手动调整任何设置
- 修改设置后自动切换到此模式

#### 2. 自动保存设置
程序会自动记住：
- 输出格式选择
- 处理选项（VFR转CFR、FFSubSync等）
- VAD算法和参数
- 窗口位置和大小
- 最后使用的文件夹

#### 3. 智能切换
- 选择预设后，所有设置自动应用
- 手动修改任何设置，自动切换到"自定义"
- 关闭程序时自动保存当前设置
- 下次启动时自动恢复

### 使用方法

#### 快速开始
1. 打开程序
2. 选择"标准模式"预设
3. 添加文件
4. 点击"开始处理"

#### 自定义配置
1. 选择任意预设作为起点
2. 根据需要调整设置
3. 程序自动切换到"自定义"模式
4. 下次启动会记住你的设置

#### 记住文件夹
- 第一次选择文件/文件夹后
- 下次打开文件对话框会从上次的位置开始
- 无需每次都从根目录找起

---

## 🎨 界面改进对比

### 之前
- 只显示文件路径
- 不知道处理状态
- 只能清空全部文件
- 处理完不知道文件在哪
- 每次启动都要重新设置

### 现在
- 显示文件大小、时长、格式
- 彩色状态实时更新
- 可以删除单个文件
- 一键打开输出文件夹
- 记住所有设置和偏好

---

## 💡 使用技巧

### 技巧1：批量处理优化
1. 选择"快速模式"预设
2. 添加大量文件
3. 观察文件列表中的状态变化
4. 处理完成后点击"打开文件夹"

### 技巧2：精细化处理
1. 选择"完整模式"预设
2. 添加重要视频
3. 等待处理完成
4. 点击"查看所有结果"查看所有生成的文件

### 技巧3：自定义工作流
1. 根据需求调整设置
2. 程序会记住你的偏好
3. 下次直接开始处理
4. 无需重复设置

### 技巧4：文件管理
1. 添加文件后查看元信息
2. 删除不需要的文件
3. 右键查看文件位置
4. 处理失败时右键查看错误

---

## 🔧 配置文件位置

程序会在以下位置保存配置：

**Windows**
```
C:\Users\<用户名>\AppData\Roaming\FunASR\VideoSubtitleTool.ini
```

**Linux**
```
~/.config/FunASR/VideoSubtitleTool.conf
```

**macOS**
```
~/Library/Preferences/com.FunASR.VideoSubtitleTool.plist
```

如需重置配置，删除此文件即可。

---

## 📞 常见问题

### Q: 文件信息显示"未知"？
A: 需要FFprobe工具。程序会自动下载，或手动安装FFmpeg。

### Q: 配置没有保存？
A: 确保程序正常退出（不要强制关闭）。配置在退出时自动保存。

### Q: 想恢复默认设置？
A: 删除配置文件，或选择预设模式。

### Q: 输出管理对话框是空的？
A: 需要先完成至少一次处理，才会有输出文件记录。

---

## 🎉 总结

这三个优化功能让FunASR工具从"能用"变成"好用"：

1. **文件列表增强** - 让你清楚知道每个文件的状态
2. **输出管理** - 让你快速找到生成的字幕
3. **配置持久化** - 让你无需重复设置

享受更流畅的使用体验！

---

**版本**: v5.10
**更新日期**: 2025-12-15
